# –°—Ü–µ–Ω–∞—Ä–∏–π —Ä–∞–±–æ—Ç—ã Telegram-–±–æ—Ç–∞ Service Desk

## –û–±–∑–æ—Ä

Telegram-–±–æ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞—è–≤–∫–∞–º–∏ –≤ —Å–∏—Å—Ç–µ–º–µ Service Desk —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞.

## –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏

### 1. –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏:
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `/start`
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `/new`
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ª—é–±–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∫–∞–∫ —Ç–µ–º–∞ –∑–∞—è–≤–∫–∏)
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ –∏–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç (–±—É–¥–µ—Ç –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–æ –∫ –∑–∞—è–≤–∫–µ)

### 2. –í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞—è–≤–∫–∏
–ë–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏–∑ inline-–∫–Ω–æ–ø–æ–∫:
- üî• **–ò–Ω—Ü–∏–¥–µ–Ω—Ç** ‚Üí `type: "incident"` –≤ –ë–î
- üìù **–ó–∞–ø—Ä–æ—Å** ‚Üí `type: "service_request"` –≤ –ë–î  
- ‚ùì **–ü—Ä–æ–±–ª–µ–º–∞** ‚Üí `type: "incident"` –≤ –ë–î (–ø—Ä–æ–±–ª–µ–º—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–∞–∫ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã)
- üîÑ **–ò–∑–º–µ–Ω–µ–Ω–∏–µ** ‚Üí `type: "change_request"` –≤ –ë–î

### 3. –í—ã–±–æ—Ä –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –±–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤—ã–±—Ä–∞—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
- üî¥ **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π** ‚Üí `priority: "urgent"`
- üü† **–í—ã—Å–æ–∫–∏–π** ‚Üí `priority: "high"`
- üü° **–°—Ä–µ–¥–Ω–∏–π** ‚Üí `priority: "medium"`
- üü¢ **–ù–∏–∑–∫–∏–π** ‚Üí `priority: "low"`

### 4. –í–≤–æ–¥ —Ç–µ–º—ã –∑–∞—è–≤–∫–∏ (–µ—Å–ª–∏ –Ω–µ –±—ã–ª–∞ —É–∫–∞–∑–∞–Ω–∞ —Ä–∞–Ω–µ–µ)
–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—á–∞–ª —Å –∫–æ–º–∞–Ω–¥—ã `/new` –∏–ª–∏ `/start`, –±–æ—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ —Ç–µ–º—É –∑–∞—è–≤–∫–∏.

### 5. –í–≤–æ–¥ –æ–ø–∏—Å–∞–Ω–∏—è –∑–∞—è–≤–∫–∏
–ë–æ—Ç –ø—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏–ª–∏ –∑–∞–ø—Ä–æ—Å–∞.

### 6. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è
–ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤–æ–¥–∫—É –∑–∞—è–≤–∫–∏ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏–ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ:
```
–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏:

–¢–µ–º–∞: [—Ç–µ–º–∞ –∑–∞—è–≤–∫–∏]
–û–ø–∏—Å–∞–Ω–∏–µ: [–æ–ø–∏—Å–∞–Ω–∏–µ]
–ö–∞—Ç–µ–≥–æ—Ä–∏—è: [–≤—ã–±—Ä–∞–Ω–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è]
–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: [–≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç]
–í–ª–æ–∂–µ–Ω–∏—è: [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –µ—Å–ª–∏ –µ—Å—Ç—å]

[‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å] [‚ùå –û—Ç–º–µ–Ω–∏—Ç—å]
```

### 7. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏
–ü—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –±–æ—Ç:
- –°–æ–∑–¥–∞–µ—Ç –∑–∞—è–≤–∫—É –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏ —Å ID –∑–∞—è–≤–∫–∏
- –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∫–Ω–æ–ø–∫—É "üìã –ú–æ–∏ –∑–∞—è–≤–∫–∏" –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö –∑–∞—è–≤–æ–∫

## –ú–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Üí –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- `incident` ‚Üí `type: "incident"`, `category: "general"`
- `request` ‚Üí `type: "service_request"`, `category: "general"`
- `problem` ‚Üí `type: "incident"`, `category: "general"`
- `change` ‚Üí `type: "change_request"`, `category: "general"`

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
- `urgent` ‚Üí `priority: "urgent"`
- `high` ‚Üí `priority: "high"`
- `medium` ‚Üí `priority: "medium"`
- `low` ‚Üí `priority: "low"`

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫
- `/tickets` - –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
- `/status <ID>` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞—è–≤–∫–∏

### –°–ø—Ä–∞–≤–∫–∞
- `/help` - –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ –ø–æ Telegram ID, –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
```
–í—ã –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏.

–í–∞—à Telegram ID: [ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]
```

### –û—à–∏–±–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏
–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö API –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°–µ—Å—Å–∏–∏
–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏ Telegraf –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏:
- `ctx.session.state` - —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (`creating_ticket`, `awaiting_title`, `awaiting_description`, `awaiting_comment`)
- `ctx.session.ticketData` - –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–π –∑–∞—è–≤–∫–∏
- `ctx.session.commentData` - –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è API
–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π service token –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ API:
- Token: `service-desk-api-token`
- Middleware –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –±–æ—Ç–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –±–æ—Ç–∞ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–∞–π–ª `logs/telegram.log` —Å —É—Ä–æ–≤–Ω—è–º–∏:
- `info` - –æ–±—ã—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `error` - –æ—à–∏–±–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–û—à–∏–±–∫–∞ inline keyboard** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Markup.removeKeyboard()` –¥–ª—è inline —Å–æ–æ–±—â–µ–Ω–∏–π
2. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Å—Å–∏—è–º–∏** - –¥–æ–±–∞–≤–ª–µ–Ω middleware `session()` –≤ bot.js
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É UI –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ –ø–æ–ª—è–º–∏ –ë–î
4. **–û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ service token –≤ middleware
5. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã** - –∏–∑–º–µ–Ω–µ–Ω—ã —Å P1-P4 –Ω–∞ urgent/high/medium/low

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
telegram-bot/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ bot.js                 # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ handlers/
‚îÇ       ‚îú‚îÄ‚îÄ startHandler.js    # –û–±—Ä–∞–±–æ—Ç–∫–∞ /start –∏ /help
‚îÇ       ‚îú‚îÄ‚îÄ ticketHandler.js   # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –∑–∞—è–≤–æ–∫
‚îÇ       ‚îú‚îÄ‚îÄ callbackHandler.js # –û–±—Ä–∞–±–æ—Ç–∫–∞ inline –∫–Ω–æ–ø–æ–∫
‚îÇ       ‚îî‚îÄ‚îÄ messageHandler.js  # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
‚îú‚îÄ‚îÄ logs/                      # –õ–æ–≥–∏ –±–æ—Ç–∞
‚îî‚îÄ‚îÄ .env                       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è